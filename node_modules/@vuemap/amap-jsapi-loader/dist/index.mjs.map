{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["enum LoadStatus {\n    notload = \"notload\",\n    loading = \"loading\",\n    loaded = \"loaded\",\n    failed = \"failed\",\n}\nlet config = {\n    key: \"\",\n    AMap: {\n        version: \"1.4.15\",\n        plugins: [],\n    },\n    AMapUI: {\n        version: \"1.1\",\n        plugins: [],\n    },\n    Loca: {\n        version: \"1.3.2\",\n    },\n} as any;\n\nlet Status = {\n    AMap: LoadStatus.notload,\n    AMapUI: LoadStatus.notload,\n    Loca: LoadStatus.notload,\n};\nlet Callback: {\n    AMap: any[],\n    AMapUI: any[],\n    Loca: any[]\n} = {\n    AMap: [],\n    AMapUI: [],\n    Loca: [],\n};\n\nlet onloadCBKs: any[] = [];\nconst onload = function (callback) {\n    if (typeof callback == \"function\") {\n        if (Status.AMap === LoadStatus.loaded) {\n            callback(window.AMap);\n            return;\n        }\n        onloadCBKs.push(callback);\n    }\n};\n\ninterface LoadOption {\n    key: string;\n    version?: string;\n    plugins?: string[];\n    AMapUI?: {\n        version?: string;\n        plugins?: string[];\n    };\n    Loca?: {\n        version?: string;\n    };\n}\nfunction appendOther(option: LoadOption): Promise<any> {\n    let pros: Promise<void>[] = [];\n    if (option.AMapUI) {\n        pros.push(loadAMapUI(option.AMapUI));\n    }\n    if (option.Loca) {\n        pros.push(loadLoca(option.Loca));\n    }\n    return Promise.all(pros);\n}\nfunction loadAMapUI(params: { version?: string; plugins?: string[] }): Promise<void> {\n    return new Promise((res, rej) => {\n        const newPlugins: string[] = [];\n        if (params.plugins) {\n            for (let i = 0; i < params.plugins.length; i += 1) {\n                if (config.AMapUI.plugins.indexOf(params.plugins[i]) == -1) {\n                    newPlugins.push(params.plugins[i]);\n                }\n            }\n        }\n        if (Status.AMapUI === LoadStatus.failed) {\n            rej(\"前次请求 AMapUI 失败\");\n        } else if (Status.AMapUI === LoadStatus.notload) {\n            Status.AMapUI = LoadStatus.loading;\n            config.AMapUI.version = params.version || config.AMapUI.version;\n            const version = config.AMapUI.version;\n            const parentNode = document.body || document.head;\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = `https://webapi.amap.com/ui/${version}/main.js`;\n\n            script.onerror = (e) => {\n                Status.AMapUI = LoadStatus.failed;\n                rej(\"请求 AMapUI 失败\");\n            };\n            script.onload = () => {\n                Status.AMapUI = LoadStatus.loaded;\n                if (newPlugins.length) {\n                    window.AMapUI.loadUI(newPlugins, function () {\n                        for (let i = 0, len = newPlugins.length; i < len; i++) {\n                            const path = newPlugins[i];\n                            const name = path.split(\"/\").slice(-1)[0];\n                            window.AMapUI[name] = arguments[i];\n                        }\n                        res();\n                        while (Callback.AMapUI.length) {\n                            Callback.AMapUI.splice(0, 1)[0]();\n                        }\n                    });\n                } else {\n                    res();\n                    while (Callback.AMapUI.length) {\n                        Callback.AMapUI.splice(0, 1)[0]();\n                    }\n                }\n            };\n            parentNode.appendChild(script);\n        } else if (Status.AMapUI === LoadStatus.loaded) {\n            if (params.version && params.version !== config.AMapUI.version) {\n                rej(\"不允许多个版本 AMapUI 混用\");\n            } else {\n                if (newPlugins.length) {\n                    window.AMapUI.loadUI(newPlugins, function () {\n                        for (let i = 0, len = newPlugins.length; i < len; i++) {\n                            const path = newPlugins[i];\n                            const name = path.split(\"/\").slice(-1)[0];\n                            window.AMapUI[name] = arguments[i];\n                        }\n                        res();\n                    });\n                } else {\n                    res();\n                }\n            }\n        } else {\n            if (params.version && params.version !== config.AMapUI.version) {\n                rej(\"不允许多个版本 AMapUI 混用\");\n            } else {\n                Callback.AMapUI.push((err) => {\n                    if (err) {\n                        rej(err);\n                    } else {\n                        if (newPlugins.length) {\n                            window.AMapUI.loadUI(newPlugins, function () {\n                                for (let i = 0, len = newPlugins.length; i < len; i++) {\n                                    const path = newPlugins[i];\n                                    const name = path.split(\"/\").slice(-1)[0];\n                                    window.AMapUI[name] = arguments[i];\n                                }\n                                res();\n                            });\n                        } else {\n                            res();\n                        }\n                    }\n                });\n            }\n        }\n    });\n}\n\nfunction loadLoca(params: { version?: string }): Promise<void> {\n    return new Promise((res, rej) => {\n        if (Status.Loca === LoadStatus.failed) {\n            rej(\"前次请求 Loca 失败\");\n        } else if (Status.Loca === LoadStatus.notload) {\n            Status.Loca = LoadStatus.loading;\n            config.Loca.version = params.version || config.Loca.version;\n            const version = config.Loca.version;\n            const isApiV2 = config.AMap.version.startsWith(\"2\");\n            const isLocaV2 = version.startsWith(\"2\");\n            if ((isApiV2 && !isLocaV2) || (!isApiV2 && isLocaV2)) {\n                rej(\"JSAPI 与 Loca 版本不对应！！\");\n                return;\n            }\n            const key = config.key;\n            const parentNode = document.body || document.head;\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = `https://webapi.amap.com/loca?v=${version}&key=${key}`;\n\n            script.onerror = (e) => {\n                Status.Loca = LoadStatus.failed;\n                rej(\"请求 AMapUI 失败\");\n            };\n            script.onload = () => {\n                Status.Loca = LoadStatus.loaded;\n                res();\n                while (Callback.Loca.length) {\n                    Callback.Loca.splice(0, 1)[0]();\n                }\n            };\n            parentNode.appendChild(script);\n        } else if (Status.Loca === LoadStatus.loaded) {\n            if (params.version && params.version !== config.Loca.version) {\n                rej(\"不允许多个版本 Loca 混用\");\n            } else {\n                res();\n            }\n        } else {\n            if (params.version && params.version !== config.Loca.version) {\n                rej(\"不允许多个版本 Loca 混用\");\n            } else {\n                Callback.Loca.push((err) => {\n                    if (err) {\n                        rej(err);\n                    } else {\n                        rej();\n                    }\n                });\n            }\n        }\n    });\n}\n\nconst load = function (options: LoadOption) {\n    if (typeof window === 'undefined') {\n        throw Error(\"AMap JSAPI can only be used in Browser.\");\n    }\n    return new Promise((resolve, reject) => {\n        if (Status.AMap == LoadStatus.failed) {\n            reject(\"\");\n        } else if (Status.AMap == LoadStatus.notload) {\n            //初次加载\n            let { key, version, plugins } = options;\n            if (!key) {\n                reject(\"请填写key\");\n                return;\n            }\n            if (window.AMap && location.host !== \"lbs.amap.com\") {\n                reject(\"禁止多种API加载方式混用\");\n            }\n            config.key = key;\n            config.AMap.version = version || config.AMap.version;\n            config.AMap.plugins = plugins || config.AMap.plugins;\n            Status.AMap = LoadStatus.loading;\n\n            const parentNode = document.body || document.head;\n\n            window.___onAPILoaded = function (err) {\n                delete window.___onAPILoaded;\n                if (err) {\n                    Status.AMap = LoadStatus.failed;\n                    reject(err);\n                } else {\n                    Status.AMap = LoadStatus.loaded;\n                    appendOther(options)\n                        .then(() => {\n                            resolve(window.AMap);\n                        })\n                        .catch(reject);\n                    while (onloadCBKs.length) {\n                        onloadCBKs.splice(0, 1)[0]();\n                    }\n                }\n            };\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n\n            script.src =\n                \"https://webapi.amap.com/maps?callback=___onAPILoaded&v=\" +\n                config.AMap.version +\n                \"&key=\" +\n                key +\n                \"&plugin=\" +\n                config.AMap.plugins.join(\",\");\n            script.onerror = (e) => {\n                Status.AMap = LoadStatus.failed;\n                reject(e);\n            };\n            parentNode.appendChild(script);\n        } else if (Status.AMap == LoadStatus.loaded) {\n            //deal multi load\n            if (options.key && options.key !== config.key) {\n                reject(\"多个不一致的 key\");\n                return;\n            }\n            if (options.version && options.version !== config.AMap.version) {\n                reject(\"不允许多个版本 JSAPI 混用\");\n                return;\n            }\n            const newPlugins: any[] = [];\n            if (options.plugins) {\n                for (var i = 0; i < options.plugins.length; i += 1) {\n                    if (config.AMap.plugins.indexOf(options.plugins[i]) == -1) {\n                        newPlugins.push(options.plugins[i]);\n                    }\n                }\n            }\n            if (newPlugins.length) {\n                window.AMap.plugin(newPlugins, () => {\n                    appendOther(options)\n                        .then(() => {\n                            resolve(window.AMap);\n                        })\n                        .catch(reject);\n                });\n            } else {\n                appendOther(options)\n                    .then(() => {\n                        resolve(window.AMap);\n                    })\n                    .catch(reject);\n            }\n        } else {\n            // loading\n            if (options.key && options.key !== config.key) {\n                reject(\"多个不一致的 key\");\n                return;\n            }\n            if (options.version && options.version !== config.AMap.version) {\n                reject(\"不允许多个版本 JSAPI 混用\");\n                return;\n            }\n            const newPlugins: any[] = [];\n            if (options.plugins) {\n                for (var i = 0; i < options.plugins.length; i += 1) {\n                    if (config.AMap.plugins.indexOf(options.plugins[i]) == -1) {\n                        newPlugins.push(options.plugins[i]);\n                    }\n                }\n            }\n            onload(() => {\n                if (newPlugins.length) {\n                    window.AMap.plugin(newPlugins, () => {\n                        appendOther(options)\n                            .then(() => {\n                                resolve(window.AMap);\n                            })\n                            .catch(reject);\n                    });\n                } else {\n                    appendOther(options)\n                        .then(() => {\n                            resolve(window.AMap);\n                        })\n                        .catch(reject);\n                }\n            });\n        }\n    });\n};\nfunction reset() {\n    delete window.AMap;\n    delete window.AMapUI;\n    delete window.Loca;\n    config = {\n        key: \"\",\n        AMap: {\n            version: \"1.4.15\",\n            plugins: [],\n        },\n        AMapUI: {\n            version: \"1.1\",\n            plugins: [],\n        },\n        Loca: {\n            version: \"1.3.2\",\n        },\n    };\n    Status = {\n        AMap: LoadStatus.notload,\n        AMapUI: LoadStatus.notload,\n        Loca: LoadStatus.notload,\n    };\n    Callback = {\n        AMap: [],\n        AMapUI: [],\n        Loca: [],\n    };\n}\nexport default { load, reset };\n"],"names":["LoadStatus","config","key","AMap","version","plugins","AMapUI","Loca","Status","notload","Callback","onloadCBKs","callback","loaded","window","push","appendOther","option","pros","loadAMapUI","loadLoca","Promise","all","params","res","rej","i","length","indexOf","newPlugins","failed","loading","script","type","src","onerror","script.onerror","onload","script.onload","loadUI","len","name","arguments","splice","parentNode","appendChild","err","isApiV2","isLocaV2","index","load","Error","resolve","reject","options","location","host","document","body","head","___onAPILoaded","window.___onAPILoaded","then","catch","createElement","join","e","plugin","reset"],"mappings":"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"}