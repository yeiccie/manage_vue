{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nrequire(\"core-js/modules/es.array.find-index.js\");\nvar tagAndTagSpacing = 4; // tagAndTagSpacing\nvar _default = exports[\"default\"] = {\n  name: 'ScrollPane',\n  data: function data() {\n    return {\n      left: 0\n    };\n  },\n  computed: {\n    scrollWrapper: function scrollWrapper() {\n      return this.$refs.scrollContainer;\n    }\n  },\n  methods: {\n    handleScroll: function handleScroll(e) {\n      var eventDelta = e.wheelDelta || -e.deltaY * 40;\n      var $scrollWrapper = this.scrollWrapper;\n      $scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4;\n    },\n    moveToTarget: function moveToTarget(currentTag) {\n      var $container = this.$refs.scrollContainer.$el;\n      var $containerWidth = $container.offsetWidth;\n      var $scrollWrapper = this.scrollWrapper;\n      var tagList = this.$parent.$refs.tag;\n      var firstTag = null;\n      var lastTag = null;\n\n      // find first tag and last tag\n      if (tagList.length > 0) {\n        firstTag = tagList[0];\n        lastTag = tagList[tagList.length - 1];\n      }\n      if (firstTag === currentTag) {\n        $scrollWrapper.scrollLeft = 0;\n      } else if (lastTag === currentTag) {\n        $scrollWrapper.scrollLeft = $scrollWrapper.scrollWidth - $containerWidth;\n      } else {\n        // find preTag and nextTag\n        var currentIndex = tagList.findIndex(function (item) {\n          return item === currentTag;\n        });\n        var prevTag = tagList[currentIndex - 1];\n        var nextTag = tagList[currentIndex + 1];\n\n        // the tag's offsetLeft after of nextTag\n        var afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing;\n\n        // the tag's offsetLeft before of prevTag\n        var beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagAndTagSpacing;\n        if (afterNextTagOffsetLeft > $scrollWrapper.scrollLeft + $containerWidth) {\n          $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth;\n        } else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\n          $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["tagAndTagSpacing","_default","exports","name","data","left","computed","scrollWrapper","$refs","scrollContainer","methods","handleScroll","e","eventDelta","wheelDelta","deltaY","$scrollWrapper","scrollLeft","moveToTarget","currentTag","$container","$el","$containerWidth","offsetWidth","tagList","$parent","tag","firstTag","lastTag","length","scrollWidth","currentIndex","findIndex","item","prevTag","nextTag","afterNextTagOffsetLeft","offsetLeft","beforePrevTagOffsetLeft"],"sources":["/Users/yeiccie/Documents/work_space/second-hand-mall/manage_code/src/components/index/indexScrollPane.vue"],"sourcesContent":["<template>\r\n\t<el-scrollbar ref=\"scrollContainer\" :vertical=\"false\" class=\"scroll-container\" @wheel.native.prevent=\"handleScroll\">\r\n\t\t<slot />\r\n\t</el-scrollbar>\r\n</template>\r\n\r\n<script>\r\n\tconst tagAndTagSpacing = 4 // tagAndTagSpacing\r\n\r\n\texport default {\r\n\t\tname: 'ScrollPane',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tleft: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tscrollWrapper() {\r\n\t\t\t\treturn this.$refs.scrollContainer\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleScroll(e) {\r\n\t\t\t\tconst eventDelta = e.wheelDelta || -e.deltaY * 40\r\n\t\t\t\tconst $scrollWrapper = this.scrollWrapper\r\n\t\t\t\t$scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4\r\n\t\t\t},\r\n\t\t\tmoveToTarget(currentTag) {\r\n\t\t\t\tconst $container = this.$refs.scrollContainer.$el\r\n\t\t\t\tconst $containerWidth = $container.offsetWidth\r\n\t\t\t\tconst $scrollWrapper = this.scrollWrapper\r\n\t\t\t\tconst tagList = this.$parent.$refs.tag\r\n\r\n\t\t\t\tlet firstTag = null\r\n\t\t\t\tlet lastTag = null\r\n\r\n\t\t\t\t// find first tag and last tag\r\n\t\t\t\tif (tagList.length > 0) {\r\n\t\t\t\t\tfirstTag = tagList[0]\r\n\t\t\t\t\tlastTag = tagList[tagList.length - 1]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (firstTag === currentTag) {\r\n\t\t\t\t\t$scrollWrapper.scrollLeft = 0\r\n\t\t\t\t} else if (lastTag === currentTag) {\r\n\t\t\t\t\t$scrollWrapper.scrollLeft = $scrollWrapper.scrollWidth - $containerWidth\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// find preTag and nextTag\r\n\t\t\t\t\tconst currentIndex = tagList.findIndex(item => item === currentTag)\r\n\t\t\t\t\tconst prevTag = tagList[currentIndex - 1]\r\n\t\t\t\t\tconst nextTag = tagList[currentIndex + 1]\r\n\r\n\t\t\t\t\t// the tag's offsetLeft after of nextTag\r\n\t\t\t\t\tconst afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing\r\n\r\n\t\t\t\t\t// the tag's offsetLeft before of prevTag\r\n\t\t\t\t\tconst beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagAndTagSpacing\r\n\r\n\t\t\t\t\tif (afterNextTagOffsetLeft > $scrollWrapper.scrollLeft + $containerWidth) {\r\n\t\t\t\t\t\t$scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth\r\n\t\t\t\t\t} else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\r\n\t\t\t\t\t\t$scrollWrapper.scrollLeft = beforePrevTagOffsetLeft\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.scroll-container {\r\n\r\n\t\t:deep(.el-scrollbar__bar) {\r\n\t\t\tbottom: 0px;\r\n\t\t}\r\n\r\n\t\t:deep(.el-scrollbar__wrap) {\r\n\t\t\theight: 49px;\r\n\t\t}\r\n\t}\r\n</style>"],"mappings":";;;;;;;;AAOC,IAAMA,gBAAe,GAAI,GAAE;AAAA,IAAAC,QAAA,GAAAC,OAAA,cAEZ;EACdC,IAAI,EAAE,YAAY;EAClBC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,IAAI,EAAE;IACP;EACD,CAAC;EACDC,QAAQ,EAAE;IACTC,aAAa,WAAbA,aAAaA,CAAA,EAAG;MACf,OAAO,IAAI,CAACC,KAAK,CAACC,eAAc;IACjC;EACD,CAAC;EACDC,OAAO,EAAE;IACRC,YAAY,WAAZA,YAAYA,CAACC,CAAC,EAAE;MACf,IAAMC,UAAS,GAAID,CAAC,CAACE,UAAS,IAAK,CAACF,CAAC,CAACG,MAAK,GAAI,EAAC;MAChD,IAAMC,cAAa,GAAI,IAAI,CAACT,aAAY;MACxCS,cAAc,CAACC,UAAS,GAAID,cAAc,CAACC,UAAS,GAAIJ,UAAS,GAAI;IACtE,CAAC;IACDK,YAAY,WAAZA,YAAYA,CAACC,UAAU,EAAE;MACxB,IAAMC,UAAS,GAAI,IAAI,CAACZ,KAAK,CAACC,eAAe,CAACY,GAAE;MAChD,IAAMC,eAAc,GAAIF,UAAU,CAACG,WAAU;MAC7C,IAAMP,cAAa,GAAI,IAAI,CAACT,aAAY;MACxC,IAAMiB,OAAM,GAAI,IAAI,CAACC,OAAO,CAACjB,KAAK,CAACkB,GAAE;MAErC,IAAIC,QAAO,GAAI,IAAG;MAClB,IAAIC,OAAM,GAAI,IAAG;;MAEjB;MACA,IAAIJ,OAAO,CAACK,MAAK,GAAI,CAAC,EAAE;QACvBF,QAAO,GAAIH,OAAO,CAAC,CAAC;QACpBI,OAAM,GAAIJ,OAAO,CAACA,OAAO,CAACK,MAAK,GAAI,CAAC;MACrC;MAEA,IAAIF,QAAO,KAAMR,UAAU,EAAE;QAC5BH,cAAc,CAACC,UAAS,GAAI;MAC7B,OAAO,IAAIW,OAAM,KAAMT,UAAU,EAAE;QAClCH,cAAc,CAACC,UAAS,GAAID,cAAc,CAACc,WAAU,GAAIR,eAAc;MACxE,OAAO;QACN;QACA,IAAMS,YAAW,GAAIP,OAAO,CAACQ,SAAS,CAAC,UAAAC,IAAG;UAAA,OAAKA,IAAG,KAAMd,UAAU;QAAA;QAClE,IAAMe,OAAM,GAAIV,OAAO,CAACO,YAAW,GAAI,CAAC;QACxC,IAAMI,OAAM,GAAIX,OAAO,CAACO,YAAW,GAAI,CAAC;;QAExC;QACA,IAAMK,sBAAqB,GAAID,OAAO,CAACd,GAAG,CAACgB,UAAS,GAAIF,OAAO,CAACd,GAAG,CAACE,WAAU,GAAIvB,gBAAe;;QAEjG;QACA,IAAMsC,uBAAsB,GAAIJ,OAAO,CAACb,GAAG,CAACgB,UAAS,GAAIrC,gBAAe;QAExE,IAAIoC,sBAAqB,GAAIpB,cAAc,CAACC,UAAS,GAAIK,eAAe,EAAE;UACzEN,cAAc,CAACC,UAAS,GAAImB,sBAAqB,GAAId,eAAc;QACpE,OAAO,IAAIgB,uBAAsB,GAAItB,cAAc,CAACC,UAAU,EAAE;UAC/DD,cAAc,CAACC,UAAS,GAAIqB,uBAAsB;QACnD;MACD;IACD;EACD;AACD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}